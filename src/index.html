<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1"
    />
    <link
      rel="shortcut icon"
      href="assets/images/logo5.png"
      type="image/x-icon"
    />
    <meta name="description" content="" />

    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>

    <title>Home</title>

    <link
      rel="stylesheet"
      href="assets/web/assets/mobirise-icons2/mobirise2.css"
    />
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css" />
    <link
      rel="stylesheet"
      href="assets/bootstrap/css/bootstrap-reboot.min.css"
    />
    <link rel="stylesheet" href="assets/theme/css/style.css" />
    <link
      rel="preload"
      href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Jost:100,200,300,400,500,600,700,800,900,100i,200i,300i,400i,500i,600i,700i,800i,900i&display=swap"
    /></noscript>
    <link
      rel="preload"
      as="style"
      href="assets/mobirise/css/mbr-additional.css"
    />
    <link
      rel="stylesheet"
      href="assets/mobirise/css/mbr-additional.css"
      type="text/css"
    />
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-1.7.1.min.js"
    ></script>
  </head>
  <body>
    <section
      data-bs-version="5.1"
      class="header5 cid-tnQqlTKGW2 mbr-fullscreen"
      id="header5-4"
    >
      <div class="container">   
        <div class="row justify-content-end">
          <div class="col-12 col-lg-7">
            <h1
              class="mbr-section-title mbr-fonts-style mbr-white mb-3 display-2"
            >
              <strong><br /></strong><br /><br /><strong><br /></strong
              ><br /><br /><br /><strong>Smart Electricity</strong
              ><strong>&nbsp;Bill Generator</strong>
            </h1>

            <p class="mbr-text mbr-fonts-style mbr-white display-7">
              Using Blockchain Technology
            </p>
            <div class="mbr-section-btn mt-3">
              <a class="btn btn-warning display-7" href="index.html#form2-3"
                >Generate bill by Consumer Number!</a
              >
              <button
                class="btn btn-warning"
                data-bs-toggle="modal"
                data-bs-target="#myModal"
                onclick="App.getCAnum();"
              >
                New user? Registration
              </button>
            </div>
            <!-- my code for popup form -->
            <style>
              .caNumDis {
                display: inline-block;
                margin-left: 40px;
              }
            </style>
            <div class="modal fade" id="myModal">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <!-- Modal Header -->
                  <div class="modal-header">
                    <h4 class="modal-title">Registraion</h4>
                    <span class="caNumDis"
                      >Your CA number: <span id="canum"></span
                    ></span>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                    ></button>
                  </div>

                  <!-- Modal body -->
                  <style>
                    .modal-body {
                      max-height: calc(100vh - 130px);
                      overflow-y: auto;
                    }
                  </style>

                  <div class="modal-body">
                    <form onsubmit="App.createUser(); return false;">
                      <div class="mb-3">
                        <label for="email" class="form-label">Name:</label>
                        <input
                          type="text"
                          class="form-control"
                          id="name"
                          placeholder="Enter name"
                          name="name"
                          required
                        />
                      </div>
                      <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input
                          type="email"
                          class="form-control"
                          id="email"
                          placeholder="Enter email"
                          name="email"
                          required
                        />
                      </div>
                      <div class="mb-3">
                        <label for="phone" class="form-label"
                          >Mobile Number:</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="phone"
                          placeholder="Enter mobile number"
                          name="phone"
                          required
                        />
                      </div>
                      <div class="mb-3">
                        <label for="aadharnumber" class="form-label"
                          >Aadhar Number:</label
                        >
                        <input
                          type="text"
                          class="form-control"
                          id="aadharnumber"
                          placeholder="Enter Aadhar number"
                          name="aadharnumber"
                          required
                        />
                      </div>
                      <div class="mb-3">
                        <label for="gender" class="form-label">Gender:</label>
                        <div class="form-check form-check-inline">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="genderopt"
                            id="male"
                            value="male"
                            required
                          />
                          <label class="form-check-label" for="male"
                            >Male</label
                          >
                        </div>
                        <div class="form-check form-check-inline">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="genderopt"
                            id="female"
                            value="female"
                          />
                          <label class="form-check-label" for="female"
                            >Female</label
                          >
                        </div>
                        <div class="form-check form-check-inline">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="genderopt"
                            id="others"
                            value="others"
                          />
                          <label class="form-check-label" for="others"
                            >Others</label
                          >
                        </div>
                      </div>
                      <div class="mb-3">
                        <label for="inputAddress">Address</label>
                        <input
                          type="text"
                          class="form-control"
                          id="inputAddress"
                          placeholder="Enter Address"
                          required
                        />
                      </div>

                      <button type="submit" class="btn btn-primary">
                        Submit
                      </button>
                    </form>
                  </div>

                  <!-- Modal footer -->

                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-danger"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- my code end -->
          </div>
        </div>
      </div>
    </section>
    <section data-bs-version="5.1" class="form2 cid-tnQpOt2Vb3" id="form2-3">
      <div class="container">
        <div class="row justify-content-center">
          <div class="card-box align-center">
            <h3 class="card-title mbr-fonts-style mb-4 display-2">
              <strong>Generate bill</strong>
            </h3>
          </div>
          <div class="col-lg-8 mx-auto mbr-form">
            <!-- form start -->
            <form id = "myForm"
              onsubmit="App.getUser(document.getElementById('canumberid').value,document.getElementById('unitsid').value); return false;"
            >
              <div class="row">
                <div class="col">
                  <input
                    type="number"
                    class="form-control"
                    placeholder="Enter CA number"
                    name="canumber"
                    id="canumberid"
                    required
                  />
                </div>
                <div class="col">
                  <input
                    type="number"
                    class="form-control"
                    placeholder="Enter units"
                    name="units"
                    id="unitsid"
                    required
                  />
                </div>
                <div class="col">
                  <button class="btn btn-warning">Search</button>
                </div>
              </div>
            </form>
            <!-- form end -->
          </div>
        </div>
      </div>
    </section>

    <!-- result statue -->

    <div
      class="alert alert-danger"
      id="noResultMsg"
      role="alert"
      style="display: none"
    >
      No result found!!
    </div>

    <!--  -->
    <!-- div to show bill -->
    <style>
      .table {
        margin: 0 auto;
        width: 40%;
      }
      td {
        text-align: center;
      }
      #mycontainer {
        display: none;
      }
      .nav-logo {
        display: flex;
        align-items: center;
      }
      .nextcontainer {
        margin: 0 auto;
        width: 40%;
        border: 1px solid #e0e4e8;
      }
    </style>
    <div id="mycontainer">
      <div
        class="nextcontainer"
        style="display: flex; justify-content: center; align-items: center"
      >
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="nav-logo">
          <span> <img src="assets/img.png" height="200" alt="logo" /> </span>
          <h3>Smart Electricity Bill</h3>
        </div>
      </div>
      <table class="table table-bordered">
        <tbody>
          <tr>
            <td>CA Number:</td>
            <td id="caNumber"></td>
          </tr>
          <tr>
            <td>Bill Number:</td>
            <td id="billNo"></td>
          </tr>
          <tr>
            <td>Bill Date:</td>
            <td id="date"></td>
          </tr>
          <tr>
            <td>Bill Time:</td>
            <td id="time"></td>
          </tr>
          <tr>
            <td>Name:</td>
            <td id="username"></td>
          </tr>
          <tr>
            <td>Aadhar Number:</td>
            <td id="aadharNumber"></td>
          </tr>
          <tr>
            <td>Phone Number:</td>
            <td id="phoneNum"></td>
          </tr>
          <tr>
            <td>Address:</td>
            <td id="address"></td>
          </tr>
          <tr>
            <td><strong>Units:</strong></td>
            <td id="unitsCount"></td>
          </tr>
          <tr>
            <td>Energy Charges:</td>
            <td>&#8377 <span id="energyCharges"></span></td>
          </tr>
          <tr>
            <td>Additional Charges:</td>
            <td>&#8377 <span id="additionalCharges"></span></td>
          </tr>
          <tr>
            <td><strong>Net Bill Amount:</strong></td>
            <td>&#8377  <span id="netBill"></span></td>
          </tr>
        </tbody>
      </table>  
      <!-- print Button -->
      <div class=" d-grid gap-2 d-md-flex justify-content-center" id="printButton">
        <br>
        <button onclick="PrintElem('mycontainer') & App.generateBill()" class="btn btn-warning" type="button">Print</button>
        <button onclick="getElementById('mycontainer').style.display = 'none'" class="btn btn-info" type="button">Search Again</button>
      </div>
    </div>
    <!--  -->
  
    <section
      data-bs-version="5.1"
      class="footer7 cid-tnQu3SWSat"
      once="footers"
      id="footer7-6"
    >
      <div class="container">
        <div class="media-container-row align-center mbr-white">
          <div class="col-12">
            <p class="mbr-text mb-0 mbr-fonts-style display-7">
              <link
                rel="stylesheet"
                type="text/css"
                href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
              />
              Made with <i class="icon ion-heart" style="color: #e25555"></i>
            </p>
            <span id="account"></span>
          </div>
        </div>
      </div>
    </section>
    <section
      class="display-7"
      style="
        padding: 0;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        align-content: center;
        display: flex;
        position: relative;
        height: 4rem;
      "
    >
      <a
        href="https://mobiri.s/"
        style="
          flex: 1 1;
          height: 4rem;
          position: absolute;
          width: 100%;
          z-index: 1;
        "
      >
        <img alt="" style="height: 4rem" src="" />
      </a>
      <p style="margin: 0; text-align: center" class="display-7"></p>
      <a style="z-index: 1" href="https://mobirise.com"> </a>
    </section>
    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/ytplayer/index.js"></script>
    <script src="assets/theme/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@truffle/contract@4.3.5/dist/truffle-contract.js"></script>
    <script src="app.js"></script>
    <script src="assets/print.js"></script>
  </body>
</html>
